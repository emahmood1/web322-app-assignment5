{{!-- 
WEB322 â€“ Assignment 05
I declare that this assignment is my own work in accordance with Seneca Academic Policy.
No part of this assignment has been copied manually or electronically from any other source 
(including 3rd party web sites) or distributed to other students.

Name: Ehsan Mahmood
Student ID: 115028227
Date: 01/12/2024
Repl.it Web App URL: not updated yet on vercel cause deployed in vercel first
GitHub Repository URL: not updated yet on vercel cause deployed in vercel first
--}}



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop - WEB322 Store</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">
</head>
<body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">WEB322 Store</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    {{#navLink "/about"}}About{{/navLink}}
                    {{#navLink "/shop"}}Shop{{/navLink}}
                    {{#navLink "/items"}}Items{{/navLink}}
                    {{#navLink "/categories"}}Categories{{/navLink}}
                    {{#navLink "/items/add"}}Add Items{{/navLink}}
                </ul>
            </div>
        </div>
    </nav>

    <!-- Shop Section -->
    <div class="container mt-5">
        <div class="row">
            <!-- Current Post -->
            {{#if post}}
            <div class="col-md-8">
                <article>
                    <h2>{{post.title}}</h2>
                    <img src="{{post.featureImage}}" class="img-fluid" alt="{{post.title}}">
                    <p>Category: {{post.category}}</p>
                    <p>Price: ${{post.price}}</p>
                    <p>Last Updated: {{post.postDate}}</p>
                </article>
            </div>
            {{else}}
            <div class="col-md-8 text-center">
                <h2>{{message}}</h2>
                <p>Please try another Post / Category.</p>
            </div>
            {{/if}}

            <!-- Sidebar -->
            <div class="col-md-4">
                <!-- Items -->
                {{#if posts.length}}
                <h4>Items</h4>
                <p class="text-muted">Click on a product name to view more details about it.</p>
                <ul class="list-group">
    {{#each posts}}
    <li class="list-group-item">
        <a href="/shop/{{this.id}}">{{this.title}}</a>
        <form action="/cart/add" method="POST" class="mt-2">
            <input type="hidden" name="itemId" value="{{this.id}}">
            <input type="hidden" name="itemName" value="{{this.title}}">
            <input type="hidden" name="itemPrice" value="{{this.price}}">
            <button type="submit" class="btn btn-sm btn-success">Add to Cart</button>
        </form>
    </li>
    {{/each}}
</ul>

                {{/if}}
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
