{{!-- 
WEB322 â€“ Assignment 06
I declare that this assignment is my own work in accordance with Seneca Academic Policy.
No part of this assignment has been copied manually or electronically from any other source 
(including 3rd party web sites) or distributed to other students.

Name: Ehsan Mahmood
Student ID: 115028227
Date: 01/12/2024
Repl.it Web App URL: https://replit.com/@ehsanmahmood202/web322-app-assignment5
GitHub Repository URL: https://github.com/emahmood1/web322-app-assignment5
--}}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Post - WEB322 Store</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">
</head>
<body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container-fluid">
        <a class="navbar-brand" href="/">WEB322 Store</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <!-- Updated session-based navigation -->
            <ul class="nav navbar-nav ms-auto">
                {{#if session.user}}
                 <div class="dropdown">
        <a href="/userHistory" class="btn btn-primary dropdown-toggle" type="button" id="userMenu" data-toggle="dropdown">
            <span class="glyphicon glyphicon-user"></span>
            {{session.user.userName}}&nbsp;&nbsp;
        </a>
        <ul class="dropdown-menu" aria-labelledby="userMenu">
            <li><a href="/userHistory">User History</a></li>
            <li><a href="/logout">Log Out</a></li>
        </ul>
    </div>
                {{else}}
                <li class="nav-item">
                    <a href="/register" class="btn btn-success me-2">
                        <span class="glyphicon glyphicon-cog"></span>&nbsp;&nbsp;Register
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/login" class="btn btn-primary">
                        <span class="glyphicon glyphicon-chevron-right"></span>&nbsp;&nbsp;Log In
                    </a>
                </li>
                {{/if}}
                <!-- Navigation Links -->
                {{#navLink "/about"}}About Us{{/navLink}}
                {{#navLink "/shop"}}Shop{{/navLink}}
                {{#navLink "/items"}}Items{{/navLink}}
                {{#navLink "/categories"}}Categories{{/navLink}}
                {{#navLink "/items/add"}}Add Item{{/navLink}}
            </ul>
        </div>
    </div>
</nav>

    <!-- Add Post Section -->
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <h2>Add Post</h2>
                <hr />

                <form action="/items/add" method="POST" enctype="multipart/form-data">
                    <div class="form-group mb-3">
                        <label for="title">Title:</label>
                        <input type="text" class="form-control" id="title" name="title" required autofocus>
                    </div>

                    <div class="form-group mb-3">
                        <label for="body">Body:</label>
                        <textarea class="form-control" id="body" name="body" rows="5" required></textarea>
                    </div>

                    <div class="form-group mb-3">
                        <label for="featureImage">Feature Image:</label>
                        <input type="file" class="form-control" id="featureImage" name="featureImage">
                    </div>

                    <div class="form-group mb-3">
                        <label for="price">Price:</label>
                        <input type="number" step="0.01" class="form-control" id="price" name="price" required>
                    </div>

                    <div class="form-group mb-3">
                        <label for="category">Category:</label>
                        {{#if categories}}
                            <select class="form-control" name="category" id="category" required>
                                <option value="">Select Category</option>
                                {{#each categories}}
                                    <option value="{{id}}">{{category}}</option>
                                {{/each}}
                            </select>
                        {{else}}
                            <div>No Categories</div>
                        {{/if}}
                    </div>

                    <div class="form-group mb-3">
                        <label for="published">Published:</label>
                        <select class="form-control" id="published" name="published" required>
                            <option value="true">Yes</option>
                            <option value="false">No</option>
                        </select>
                    </div>

                    <button type="submit" class="btn btn-primary">Add Post</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
